{"version":3,"sources":["../../src/pages/tabs/tabs.module.ts","../../src/validators/email.ts","../../src/pages/history/history.ts","../../src/pages/profile/profile.ts","../../src/pages/login/login.ts","../../src/pages/pages.ts","../../src/pages/tabs/tabs.ts"],"names":[],"mappings":"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","file":"0.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { TabsPage } from './tabs';\n\n@NgModule({\n  declarations: [\n    TabsPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(TabsPage),\n  ],\n})\nexport class TabsPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/tabs/tabs.module.ts","import { FormControl } from '@angular/forms';\n\nexport class EmailValidator {\n  \n  static isValid(control: FormControl){\n    const re = /^([a-zA-Z0-9_\\-\\.]+)@([a-zA-Z0-9_\\-\\.]+)\\.([a-zA-Z]{2,5})$/.test(control.value);\n    \n    if (re){\n      return null;\n    }\n    \n    return {\n      \"invalidEmail\": true\n    };\n    \n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/validators/email.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\n\n/**\n * Generated class for the HistoryPage page.\n *\n * See http://ionicframework.com/docs/components/#navigation for more info\n * on Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-history',\n  templateUrl: 'history.html',\n})\nexport class HistoryPage {\n\n  constructor(public navCtrl: NavController, public navParams: NavParams) {\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad HistoryPage');\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/history/history.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, AlertController } from 'ionic-angular';\nimport { ProfileProvider } from '../../providers/profile/profile';\nimport { AuthProvider } from '../../providers/auth/auth';\n\n@IonicPage({\n  name: 'profile'\n})\n@Component({\n  selector: 'page-profile',\n  templateUrl: 'profile.html',\n})\nexport class ProfilePage {\n  public userProfile:any;\n  public birthDate:string;\n\n  constructor(public navCtrl: NavController, public alertCtrl: AlertController, \n    public profileProvider: ProfileProvider, public authProvider: AuthProvider) {}\n\n  ionViewDidEnter() {\n    this.profileProvider.getUserProfile().on('value', userProfileSnapshot => {\n      this.userProfile = userProfileSnapshot.val();\n      this.birthDate = userProfileSnapshot.val().birthDate;\n    });\n  }\n\n  logOut(): void {\n    this.authProvider.logoutUser().then(() => {\n      this.navCtrl.setRoot('login');\n    });\n  }\n\n  updateName(){\n    const alert = this.alertCtrl.create({\n      message: \"Your first name & last name\",\n      inputs: [\n        {\n          name: 'firstName',\n          placeholder: 'Your first name',\n          value: this.userProfile.firstName\n        },\n        {\n          name: 'lastName',\n          placeholder: 'Your last name',\n          value: this.userProfile.lastName\n        },\n      ],\n      buttons: [\n        {\n          text: 'Cancel',\n        },\n        {\n          text: 'Save',\n          handler: data => {\n            this.profileProvider.updateName(data.firstName, data.lastName);\n          }\n        }\n      ]\n    });\n    alert.present();\n  }\n\n  updateDOB(birthDate){\n    this.profileProvider.updateDOB(birthDate);\n  }\n\n  updateEmail(){\n    let alert = this.alertCtrl.create({\n      inputs: [\n        {\n          name: 'newEmail',\n          placeholder: 'Your new email',\n        },\n        {\n          name: 'password',\n          placeholder: 'Your password',\n          type: 'password'\n        },\n      ],\n      buttons: [\n        {\n          text: 'Cancel',\n        },\n        {\n          text: 'Save',\n          handler: data => {\n            let newEmail = data.newEmail;\n\n            this.profileProvider.updateEmail(data.newEmail, data.password).then( () =>{\n              this.userProfile.email = newEmail;\n            }).catch(error => {\n              console.log('ERROR: '+error.message);\n            });\n          }\n        }\n      ]\n    });\n    alert.present();\n  }\n\n  updatePassword(){\n    let alert = this.alertCtrl.create({\n      inputs: [\n        {\n          name: 'newPassword',\n          placeholder: 'Your new password',\n          type: 'password'\n        },\n        {\n          name: 'oldPassword',\n          placeholder: 'Your old password',\n          type: 'password'\n        },\n      ],\n      buttons: [\n        {\n          text: 'Cancel',\n        },\n        {\n          text: 'Save',\n          handler: data => {\n            this.profileProvider.updatePassword(data.newPassword, data.oldPassword);\n          }\n        }\n      ]\n    });\n    alert.present();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/profile/profile.ts","import { Component } from '@angular/core';\nimport {\n  IonicPage, \n  Loading,\n  LoadingController, \n  NavController,\n  AlertController } from 'ionic-angular';\nimport { FormBuilder, Validators, FormGroup } from '@angular/forms';\nimport { EmailValidator } from '../../validators/email';\nimport { AuthProvider } from '../../providers/auth/auth';\nimport { HomePage } from '../home/home';\n\n@IonicPage({\n  name: 'login'\n})\n@Component({\n  selector: 'page-login',\n  templateUrl: 'login.html',\n})\nexport class LoginPage {\n  public loginForm: FormGroup;\n  loading: Loading;\n\n  constructor(public navCtrl: NavController, public loadingCtrl: LoadingController, \n    public alertCtrl: AlertController, public authProvider: AuthProvider, \n    public formBuilder: FormBuilder) {\n\n      this.loginForm = formBuilder.group({\n        email: ['', Validators.compose([Validators.required, EmailValidator.isValid])],\n        password: ['', Validators.compose([Validators.minLength(6), Validators.required])]\n      });\n  }\n\n  loginUser(): void {\n    if (!this.loginForm.valid){\n      console.log(this.loginForm.value);\n    } else {\n      this.authProvider.loginUser(this.loginForm.value.email, this.loginForm.value.password)\n      .then( authData => {\n        this.loading.dismiss().then( () => {\n          this.navCtrl.setRoot(HomePage);\n        });\n      }, error => {\n        this.loading.dismiss().then( () => {\n          let alert = this.alertCtrl.create({\n            message: error.message,\n            buttons: [\n              {\n                text: \"Ok\",\n                role: 'cancel'\n              }\n            ]\n          });\n          alert.present();\n        });\n      });\n      \n      this.loading = this.loadingCtrl.create();\n      this.loading.present();\n    }\n  }\n\n  goToSignup(): void {\n    this.navCtrl.push('signup');\n  }\n\n  goToResetPassword(): void {\n    this.navCtrl.push('reset-password');\n  }\n\n  \n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.ts","import { HomePage } from '../pages//home/home';\nimport { HistoryPage } from '../pages/history/history';\nimport { ProfilePage } from '../pages/profile/profile';\nimport { LoginPage } from '../pages/login/login';\nimport { TabsPage } from  '../pages/tabs/tabs';\n\n// The page the user lands on after opening the app and without a session\nexport const FirstRunPage = LoginPage;\n\n// The main page the user will see as they use the app over a long period of time.\n// Change this if not using tabs\nexport const MainPage = TabsPage;\n\n// The initial root pages for our tabs (remove if not using tabs)\nexport const Tab1Root = HomePage;\nexport const Tab2Root = HistoryPage;\nexport const Tab3Root = ProfilePage;\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/pages.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\n\n//import { HomePage } from '../home/home';\n//import { HistoryPage } from '../history/history';\n//import { ProfilePage } from '../profile/profile';\n\n\nimport { Tab1Root } from '../pages';\nimport { Tab2Root } from '../pages';\nimport { Tab3Root } from '../pages';\n/**\n * \n * Generated class for the TabsPage page.\n *\n * See http://ionicframework.com/docs/components/#navigation for more info\n * on Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-tabs',\n  templateUrl: 'tabs.html',\n})\nexport class TabsPage {\n\n  tab1Root: any = Tab1Root;\n  tab2Root: any = Tab2Root;\n  tab3Root: any = Tab3Root;\n\n  tab1Title = \" \";\n  tab2Title = \" \";\n  tab3Title = \" \";\n\n  constructor(public navCtrl: NavController, public navParams: NavParams) {\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad TabsPage');\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/tabs/tabs.ts"],"sourceRoot":""}