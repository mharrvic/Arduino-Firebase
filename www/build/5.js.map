{"version":3,"sources":["../../src/pages/profile/profile.module.ts","../../src/pages/profile/profile.ts"],"names":[],"mappings":"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","file":"5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ProfilePage } from './profile';\n\n@NgModule({\n  declarations: [\n    ProfilePage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ProfilePage),\n  ],\n  exports: [\n    ProfilePage\n  ]\n})\nexport class ProfilePageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/profile/profile.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, AlertController } from 'ionic-angular';\nimport { ProfileProvider } from '../../providers/profile/profile';\nimport { AuthProvider } from '../../providers/auth/auth';\n\n@IonicPage({\n  name: 'profile'\n})\n@Component({\n  selector: 'page-profile',\n  templateUrl: 'profile.html',\n})\nexport class ProfilePage {\n  public userProfile:any;\n  public birthDate:string;\n\n  constructor(public navCtrl: NavController, public alertCtrl: AlertController, \n    public profileProvider: ProfileProvider, public authProvider: AuthProvider) {}\n\n  ionViewDidEnter() {\n    this.profileProvider.getUserProfile().on('value', userProfileSnapshot => {\n      this.userProfile = userProfileSnapshot.val();\n      this.birthDate = userProfileSnapshot.val().birthDate;\n    });\n  }\n\n  logOut(): void {\n    this.authProvider.logoutUser().then(() => {\n      this.navCtrl.setRoot('login');\n    });\n  }\n\n  updateName(){\n    const alert = this.alertCtrl.create({\n      message: \"Your first name & last name\",\n      inputs: [\n        {\n          name: 'firstName',\n          placeholder: 'Your first name',\n          value: this.userProfile.firstName\n        },\n        {\n          name: 'lastName',\n          placeholder: 'Your last name',\n          value: this.userProfile.lastName\n        },\n      ],\n      buttons: [\n        {\n          text: 'Cancel',\n        },\n        {\n          text: 'Save',\n          handler: data => {\n            this.profileProvider.updateName(data.firstName, data.lastName);\n          }\n        }\n      ]\n    });\n    alert.present();\n  }\n\n  updateDOB(birthDate){\n    this.profileProvider.updateDOB(birthDate);\n  }\n\n  updateEmail(){\n    let alert = this.alertCtrl.create({\n      inputs: [\n        {\n          name: 'newEmail',\n          placeholder: 'Your new email',\n        },\n        {\n          name: 'password',\n          placeholder: 'Your password',\n          type: 'password'\n        },\n      ],\n      buttons: [\n        {\n          text: 'Cancel',\n        },\n        {\n          text: 'Save',\n          handler: data => {\n            let newEmail = data.newEmail;\n\n            this.profileProvider.updateEmail(data.newEmail, data.password).then( () =>{\n              this.userProfile.email = newEmail;\n            }).catch(error => {\n              console.log('ERROR: '+error.message);\n            });\n          }\n        }\n      ]\n    });\n    alert.present();\n  }\n\n  updatePassword(){\n    let alert = this.alertCtrl.create({\n      inputs: [\n        {\n          name: 'newPassword',\n          placeholder: 'Your new password',\n          type: 'password'\n        },\n        {\n          name: 'oldPassword',\n          placeholder: 'Your old password',\n          type: 'password'\n        },\n      ],\n      buttons: [\n        {\n          text: 'Cancel',\n        },\n        {\n          text: 'Save',\n          handler: data => {\n            this.profileProvider.updatePassword(data.newPassword, data.oldPassword);\n          }\n        }\n      ]\n    });\n    alert.present();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/profile/profile.ts"],"sourceRoot":""}